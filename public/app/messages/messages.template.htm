
    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Гостевая книга</h1>
        <p>Гостевая книга где пользователи могут оставлять свои сообщения</p>
      </div>
    </div>
	<div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-12">
          <div class="container">
			<div class="row" >
				<div class="col-md-8">
					<h1>Сообщения</h1>
				</div>
				<div class="col-md-4 text-right"><button type="submit" class="btn btn-success btn-lg" style="margin-top: 20px" ng-click="showModal()">Добавить новое сообщение <i class="glyphicon glyphicon-plus"></i></button></div>
			</div>
			  <div class="row text-center"><h3>Ниже все сообщения оставленные пользователями.</h3></div>
				<div class="col-md-12">
					<table class="table table-list-search table-striped" id="myTable" ng-init="getMessages()">
						<thead>
							<tr>
								<th>ID</th>
								<th>
								<button ng-click="sortBy('name')">Имя</button>
        						<span class="sortorder" ng-show="propertyName === 'name'"></span></th>
								<th>Email</th>
								<th>Ссылка</th>
								<th>Текст</th>
								<th>
		<button ng-click="sortBy('created_at')">Дата добавления</button>
        <span class="sortorder" ng-show="propertyName === 'created_at'"></span></th></th>
							</tr>
						</thead>
						<tbody >
							<tr ng-repeat="message in messages">
								<td>{{  message.id }}</td>
								<td>{{  message.name }}</td>
								<td><a href="mailto:{{  message.email }}?Subject=Гостевая книга" target="_top">{{  message.email }}</a></td>
								<td><a href="{{  message.link }}">{{  message.link }}</a></td>
								<td>{{ message.text }}</td>
								<td>{{  message.created_at }}</td>
								
							</tr>
						</tbody>
					</table> 
					<!-- End of Table-to-load-the-data Part -->					
				</div>

				<!--Pagination-->
			  <div class="row text-center">
			 			<ul class="pagination" >
						<li class="page-item" ng-class="{disabled: prev_page_url==null}">
							  <a style="cursor: pointer" class="page-link" ng-click="getPrevPage(currentPage)"><<</a>
						</li>
							<li ng-repeat= "page in pages" ng-class="{disabled, active: currentPage==page}">
								<a style="cursor: pointer" class="page-link" ng-click="getPaginationData(page)">{{page}}</a>
						   </li>
						 <li class="page-item" ng-class="{disabled: next_page_url==null}">
							  <a style="cursor: pointer" class="page-link" ng-click="getNextPage(currentPage)">>></a>
							</li>
						 </ul>
			  </div>

				<!-- Modal-->
				<div class="modal fade" id="addMessageModal" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
								<h4 class="modal-title">Добавить новое сообщение</h4>
							</div>
							<div class="modal-body">
								<form name="frmAddMessage" class="form-horizontal" novalidate="">

									<div class="form-group error">
										<label for="name" class="col-sm-3 control-label">Ваше имя</label>
										<div class="col-sm-9">
											<input type="text" class="form-control has-error" id="name" name="name" placeholder="Ваше имя" value="" 
											ng-model="message.name" ng-required="true">
											<span class="help-inline" 
											ng-show="frmAddMessage.name.$invalid && frmAddMessage.name.$touched">Это поле обязательное</span>
										</div>
									</div>
									<div class="form-group error">
										<label for="email" class="col-sm-3 control-label">Email</label>
										<div class="col-sm-9">
											<input type="email" class="form-control has-error" id="email" name="email" placeholder="Э-почта" value="" 
											ng-model="message.email" ng-required="true">
											<span class="help-inline" 
											ng-show="frmAddMessage.email.$invalid && frmAddMessage.email.$touched">Это поле обязательное и должно быть в формате e-mail@domain.example</span>
										</div>
									</div>
									<div class="form-group error">
										<label for="link" class="col-sm-3 control-label">Ссылка</label>
										<div class="col-sm-9">
											<input class="form-control" rows="3" class="form-control" id="link" name="link" placeholder="Ссылка на ваш сайт" value="" ng-model="message.link" ng-required="false" >
										</div>										
									</div>

									<div class="form-group error">
										<label for="text" class="col-sm-3 control-label">Сообщение</label>
										<div class="col-sm-9">
											<textarea class="form-control" rows="3" class="form-control has-error" id="text" name="text" placeholder="Текст сообщения" value="" ng-model="message.text" ng-required="true" ></textarea> 
											<span class="help-inline" 
											ng-show="frmAddMessage.text.$invalid && frmAddMessage.text.$touched">Это поле обязательное</span>
										</div>										
									</div>
									<div class="row">
										<label for="text" class="col-sm-3 control-label text-right">Ваша пикча</label>
										<div class="col-sm-9">

											<button dropzone="dropzoneConfig">
												Drag and drop files here or click to upload
											</button>
										</div>
									</div>

								</form>

							</div>
							<div class="modal-footer" ng-init="Captcha()">
								<input type="text" id="mainCaptcha" ng-model="mainCaptcha" ng-disabled="true"/>
								<span style="cursor:pointer;" class="glyphicon glyphicon-refresh" ng-click="Captcha();"></span><br />
								<input type="text" id="txtInput" ng-model="c" required/>    <br />
								<br/>
								 <input id="Button1" type="button" value="Check" ng-click="ValidCaptcha()"/><br/>
								 <br/>
								 <br/>
								<button type="button" class="btn btn-primary" id="btn-save" ng-click="addMessage()" ng-disabled="frmAddMessage.$invalid">Добавить сообщение </button>
							</div>
						</div>
					</div>
				</div>
			</div>
		   </div>
        </div>
      </div>


      <hr>

      <footer class="text-center">
        <p>&copy; A.Gilarov, 2018, Гостевая книга</p>
      </footer>
    </div> <!-- /container -->